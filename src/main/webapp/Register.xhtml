<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>Erregistratu ‚Äî Rides</title>
    <h:outputStylesheet library="css" name="ultra.css" />
</h:head>

<h:body class="body-bg">

    <div class="glow"></div>

    <div class="card">
        <div class="header">
            <div class="logo">R</div>
            <h1>Rides</h1>
            <p>Sortu zure kontua</p>
        </div>

        <h:form id="registerForm" class="form">

            <div class="field">
                <label for="username">Izena / Erabiltzailea</label>
                <h:inputText id="username" value="#{registerBean.username}" required="true" styleClass="input" />
                <h:message for="username" styleClass="msg" />
            </div>

            <div class="field">
                <label for="email">Emaila</label>
                <h:inputText id="email" value="#{registerBean.email}" required="true" styleClass="input" />
                <h:message for="email" styleClass="msg" />
            </div>

            <div class="field">
                <label for="password">Pasahitza</label>
                <div class="pw-wrap">
                    <h:inputSecret id="password" value="#{registerBean.password}" required="true" styleClass="input" redisplay="false" />
                    <span class="pw-toggle" onclick="togglePw()">üëÅ</span>
                </div>
                <h:message for="password" styleClass="msg" />
            </div>

            <h:commandButton value="Erregistratu" action="#{registerBean.register}" styleClass="btn" />

            <h:messages styleClass="msgs" />

            <div class="login-link">
                <a href="#{request.contextPath}/Login.xhtml">Dagoeneko kontua duzu? Saioa hasi ‚Üí</a>
            </div>

        </h:form>
    </div>

    <script>
        function togglePw(){
            const input = document.querySelector('#registerForm\\:password_input, #registerForm\\:password');
            if(input){
                input.type = input.type === "password" ? "text" : "password";
            }
        }
    </script>

</h:body>
</html>
